{"remainingRequest":"F:\\大三下\\项目实训\\vue_test001\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\大三下\\项目实训\\vue_test001\\src\\components\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\大三下\\项目实训\\vue_test001\\src\\components\\Main.vue","mtime":1592620639702},{"path":"F:\\大三下\\项目实训\\vue_test001\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\大三下\\项目实训\\vue_test001\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\大三下\\项目实训\\vue_test001\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\大三下\\项目实训\\vue_test001\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6Ik1haW4iLAogICAgY3JlYXRlZCgpewogICAgICAgIHRoaXMucmVmcmVzaCgpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGhhbmRsZURlbGV0ZShpbmRleCxyb3cpewogICAgICAgICAgICBjb25zb2xlLmxvZygncGF0aWVudF9pZCDmmK8nLCByb3dbJ3BhdGllbnRfaWQnXSkKICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoIi9kZWxldGU/cGF0aWVudF9pZD0iICsgcm93LnBhdGllbnRfaWQpCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT57CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICBjb25zb2xlLmxvZyhpbmRleCxyb3cpCiAgICAgICAgfSwKICAgICAgICBjaGVja1BhdGllbnQoaW5kZXgsIHJvdyl7CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3BhdGllbnRfaWQnLCByb3cucGF0aWVudF9pZCkKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGF0aWVudF9pZCcsIHJvdy5wYXRpZW50X2lkKTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGF0aWVudF9uYW1lJywgcm93LnBhdGllbnRfbmFtZSk7CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3BhdGllbnRfc2V4Jywgcm93LnBhdGllbnRfc2V4KTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGF0aWVudF9hZ2UnLCByb3cucGF0aWVudF9hZ2UpOwogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYXRpZW50X2RhdGUnLCByb3cucGF0aWVudF9kYXRlKTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGF0aWVudF9uYXRpb24nLCByb3cucGF0aWVudF9uYXRpb24pOwogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYXRpZW50X2FkZHJlc3MnLCByb3cucGF0aWVudF9hZGRyZXNzKTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncGF0aWVudF9qb2InLCByb3cucGF0aWVudF9qb2IpOwogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwYXRpZW50X2FsbGVyZ3knLCByb3cucGF0aWVudF9hbGxlcmd5KTsKICAgICAgICAgICAgY29uc29sZS5sb2coImJpbmdyZW5zaGkgOiIgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdwYXRpZW50X25hbWUnKSkKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ3BhdGllbnQnKQogICAgICAgIH0sCiAgICAgICAgcmVmcmVzaCgpewogICAgICAgICAgICB0aGlzLmF4aW9zLmdldCgiL3JlZnJlc2g/ZG9jdG9yX2lkPSIgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJkb2N0b3JfaWQiKSApCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT57CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpLAogICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGUgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFkZF9wYXRpZW50KCl7CiAgICAgICAgICAgIHRoaXMuZm9ybVsnZG9jX2lkJ10gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdkb2N0b3JfaWQnKQogICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QoIi9hZGRfcGF0aWVudC8iICx0aGlzLmZvcm0sewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIH0pLnRoZW4ocmVzPT4gewogICAgICAgICAgICAgICAgaWYocmVzLmRhdGEuY29kZSA9PT0gMjAwKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm09e2JyYW5kX3JpZ2h0OjB9CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5paw5bu65oiQ5YqfJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJlc2V0Rm9ybSh0aGlzLmZvcm0pCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzW3RoaXMuZm9ybV0ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yib5bu65aSx6LSlJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJlc2V0Rm9ybSh0aGlzLmZvcm0pCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzW3RoaXMuZm9ybV0ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNhbmNlbCgpewogICAgICAgICAgICB0aGlzLmZvcm09e2JyYW5kX3JpZ2h0OjB9CiAgICAgICAgICAgIHJlc2V0Rm9ybSh0aGlzLmZvcm0pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbdGhpcy5mb3JtXS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvcGVuKGluZGV4LHJvdykgewogICAgICAgICAgICB0aGlzLiRjb25maXJtKCdUaGlzIHdpbGwgcGVybWFuZW50bHkgZGVsZXRlIHRoZSBmaWxlLiBDb250aW51ZT8nLCAnV2FybmluZycsIHsKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnT0snLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsCiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURlbGV0ZShpbmRleCxyb3cpCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycKCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojliKDpmaQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHRhYmxlOltdLAogICAgICAgICAgICBkb2N0b3JfbmFtZTpzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyX25hbWUiKSwKICAgICAgICAgICAgc2V4OnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NleCcpLAogICAgICAgICAgICB0ZWw6c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGVsJyksCiAgICAgICAgICAgIGRlcGFydG1lbnQ6c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZGVwYXJ0bWVudCcpLAogICAgICAgICAgICBqb2I6c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnam9iJyksCiAgICAgICAgICAgIGRvY3Rvcl9pZDpzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdkb2N0b3JfaWQnKSwKICAgICAgICAgICAgZGlhbG9nRm9ybVZpc2libGU6ZmFsc2UsCiAgICAgICAgICAgIGZvcm06IHsKICAgICAgICAgICAgICAgIGRvY19pZDogJycsCiAgICAgICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgICAgIHNleDogJycsCiAgICAgICAgICAgICAgICBkYXRlMTogJycsCiAgICAgICAgICAgICAgICBkYXRlMjogJycsCiAgICAgICAgICAgICAgICBhZ2U6ICcnLAogICAgICAgICAgICAgICAgbmF0aW9uOiAnJywKICAgICAgICAgICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgICAgICAgICAgYm9ybjogJycsCiAgICAgICAgICAgICAgICBqb2I6ICcnLAogICAgICAgICAgICAgICAgYWxsZXJneTogJycsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJ1bGVzOiB7CiAgICAgICAgICAgICAgICBuYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCBBY3Rpdml0eSBuYW1lJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgICAgICAgICAgc2V4OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCBBY3Rpdml0eSBuYW1lJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgICAgICAgICAgbmF0aW9uOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCBBY3Rpdml0eSBuYW1lJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgICAgICAgICAgYWdlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCBBY3Rpdml0eSBuYW1lJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgICAgICAgICAgYWRkcmVzczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgQWN0aXZpdHkgbmFtZScsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICAgICAgICAgIGJvcm46IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IEFjdGl2aXR5IG5hbWUnLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgICAgICAgICBqb2I6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IEFjdGl2aXR5IG5hbWUnLCB0cmlnZ2VyOiAnYmx1cicgfV0sCiAgICAgICAgICAgICAgICBhbGxlcmd5OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCBBY3Rpdml0eSBuYW1lJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgICAgICB9LAogICAgICAgICAgICBmb3JtTGFiZWxXaWR0aDogJzEyMHB4JwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/components","sourcesContent":["<script src=\"../main.js\"></script>\r\n<template>\r\n    <div>\r\n        <el-header style=\"margin-top: 0px; \">\r\n<!--            <img src=\"../assets/hhh.jpg\"  style = \"width:200px;, heigh:200px\"  class =\"image\" />-->\r\n            <h1>\r\n                系统\r\n            </h1>\r\n            <el-button\r\n                    @click = \"refresh()\"\r\n                    type=\"success\"\r\n                    size = \"small\"\r\n                    style=\"margin-right: 500px\">\r\n                刷新</el-button>\r\n            <el-button\r\n                    @click=\"dialogFormVisible = true; \"\r\n                    type=\"primary\"\r\n                    size = \"small\"\r\n                    round>\r\n                添加病人</el-button>\r\n        </el-header>\r\n        <el-container style=\"margin-top: 100px\">\r\n        <el-aside style=\" width:200px\">\r\n            <img src=\"../assets/head.png\"  style = \"width:200px;, heigh:200px\"  class =\"image\" />\r\n            <h2>ID：{{doctor_id}}</h2>\r\n            <h2>姓名：{{doctor_name}}</h2>\r\n            <h2>性别：{{sex}}</h2>\r\n            <h2>部门：{{department}}</h2>\r\n            <h2>职位：{{job}}</h2>\r\n            <h2>联系方式：{{tel}}</h2>\r\n        </el-aside>\r\n        <el-main>\r\n            <el-table\r\n                    :data=\"table\"\r\n                    style=\"width: 100%\">\r\n                <el-table-column\r\n                        fixed\r\n                        prop=\"patient_date\"\r\n                        label=\"日期\"\r\n                        width=\"150\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"patient_name\"\r\n                        label=\"姓名\"\r\n                        width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"patient_sex\"\r\n                        label=\"性别\"\r\n                        width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"patient_age\"\r\n                        label=\"年龄\"\r\n                        width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"patient_allergy\"\r\n                        label=\"过敏史\"\r\n                        width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"patient_id\"\r\n                        label=\"编号\"\r\n                        width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"doctor_name\"\r\n                        label=\"主任医师\"\r\n                        width=\"300\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"操作\"\r\n                        width=\"300\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                                @click = \"open(scope.$index, scope.row)\"\r\n                                type=\"danger\"\r\n                                size = \"small\">\r\n                            删除</el-button>\r\n                        <el-button\r\n                                type=\"warning\"\r\n                                size =\"small\"\r\n                                @click=\"checkPatient(scope.$index, scope.row)\">\r\n                            查看</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-main>\r\n            <el-dialog title=\"添加病人\" :visible.sync=\"dialogFormVisible\" >\r\n                <el-form :model=\"form\" :rules=\"rules\" >\r\n                    <el-form-item label=\"姓名\" :label-width=\"formLabelWidth\" prop=\"name\">\r\n                        <el-input v-model=\"form.name\" style=\"width: 220px\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"性别\" :label-width=\"formLabelWidth\" prop=\"sex\">\r\n                        <el-select v-model=\"form.sex\" placeholder=\"请选择性别\">\r\n                            <el-option label=\"男\" value=\"男\"></el-option>\r\n                            <el-option label=\"女\" value=\"女\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"年龄\" :label-width=\"formLabelWidth\" prop=\"age\">\r\n                        <el-select v-model=\"form.age\" placeholder=\"请选择年龄\">\r\n                            <el-option\r\n                                    v-for=\"item in 90\"\r\n                                    :key = \"item\"\r\n                                    :value=\"item\"\r\n                                    :disabled=\"item.disabled\">\r\n                            </el-option>\r\n                        </el-select>\r\n                        </el-form-item>\r\n                    <el-form-item label=\"出生日期\" :label-width=\"formLabelWidth\" prop=\"born\">\r\n                        <div class=\"block\">\r\n                            <span class=\"demonstration\"></span>\r\n                            <el-date-picker\r\n                                    v-model=form.born\r\n                                    type=\"date\"\r\n                                    placeholder=\"选择日期\">\r\n                            </el-date-picker>\r\n                        </div>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"民族\" :label-width=\"formLabelWidth\" prop=\"nation\">\r\n                        <el-input v-model=\"form.nation\" style=\"width: 220px\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"职业\" :label-width=\"formLabelWidth\" prop=\"job\">\r\n                        <el-input v-model=\"form.job\"  style=\"width: 220px\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"住址\" :label-width=\"formLabelWidth\" prop=\"address\">\r\n                        <el-input v-model=\"form.address\" style=\"width: 220px\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"过敏史\" :label-width=\"formLabelWidth\" @keydown.enter.native=\"add_patient\" prop=\"allergy\">\r\n                        <el-input v-model=\"form.allergy\" style=\"width: 500px\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n<!--                    <el-form-item label=\"医生ID\" :label-width=\"formLabelWidth\">-->\r\n<!--                        <el-input v-model=\"form.doc_id\" style=\"width: 220px\"  autocomplete=\"off\" ></el-input>-->\r\n<!--                    </el-form-item>-->\r\n                </el-form>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"dialogFormVisible = false; cancel()\" >取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"dialogFormVisible = false; add_patient()\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name:\"Main\",\r\n        created(){\r\n            this.refresh()\r\n        },\r\n        methods: {\r\n            handleDelete(index,row){\r\n                console.log('patient_id 是', row['patient_id'])\r\n                this.axios.get(\"/delete?patient_id=\" + row.patient_id)\r\n                    .then(res =>{\r\n                        console.log(res)\r\n                        this.refresh()\r\n                    })\r\n                console.log(index,row)\r\n            },\r\n            checkPatient(index, row){\r\n                sessionStorage.removeItem('patient_id', row.patient_id)\r\n                sessionStorage.setItem('patient_id', row.patient_id);\r\n                sessionStorage.setItem('patient_name', row.patient_name);\r\n                sessionStorage.setItem('patient_sex', row.patient_sex);\r\n                sessionStorage.setItem('patient_age', row.patient_age);\r\n                sessionStorage.setItem('patient_date', row.patient_date);\r\n                sessionStorage.setItem('patient_nation', row.patient_nation);\r\n                sessionStorage.setItem('patient_address', row.patient_address);\r\n                sessionStorage.setItem('patient_job', row.patient_job);\r\n                sessionStorage.setItem('patient_allergy', row.patient_allergy);\r\n                console.log(\"bingrenshi :\" + sessionStorage.getItem('patient_name'))\r\n                this.$router.push('patient')\r\n            },\r\n            refresh(){\r\n                this.axios.get(\"/refresh?doctor_id=\" + sessionStorage.getItem(\"doctor_id\") )\r\n                    .then(res =>{\r\n                        console.log(res.data),\r\n                        this.table = res.data\r\n                    })\r\n            },\r\n            add_patient(){\r\n                this.form['doc_id'] = sessionStorage.getItem('doctor_id')\r\n                this.axios.post(\"/add_patient/\" ,this.form,{\r\n                    headers: {\r\n                        'Content-Type': 'application/x-www-form-urlencoded'\r\n                    },\r\n\r\n                }).then(res=> {\r\n                    if(res.data.code === 200){\r\n                        this.form={brand_right:0}\r\n                        console.log(res);\r\n                        this.refresh();\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '新建成功'\r\n                        });\r\n                        resetForm(this.form)\r\n                        {\r\n                            this.$refs[this.form].resetFields();\r\n                        }\r\n                    }else{\r\n                        this.$message({\r\n                            type: 'info',\r\n                            message: '创建失败'\r\n                        });\r\n                        resetForm(this.form)\r\n                        {\r\n                            this.$refs[this.form].resetFields();\r\n                        }\r\n                    }\r\n\r\n                }).catch(function (error) {\r\n                        console.log(error);\r\n                    });\r\n            },\r\n            cancel(){\r\n                this.form={brand_right:0}\r\n                resetForm(this.form)\r\n                {\r\n                    this.$refs[this.form].resetFields();\r\n                }\r\n            },\r\n            open(index,row) {\r\n                this.$confirm('This will permanently delete the file. Continue?', 'Warning', {\r\n                    confirmButtonText: 'OK',\r\n                    cancelButtonText: 'Cancel',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.handleDelete(index,row)\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '删除成功'\r\n\r\n                    });\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '取消删除'\r\n                    });\r\n                });\r\n            }\r\n        },\r\n\r\n        data() {\r\n            return {\r\n                table:[],\r\n                doctor_name:sessionStorage.getItem(\"user_name\"),\r\n                sex:sessionStorage.getItem('sex'),\r\n                tel:sessionStorage.getItem('tel'),\r\n                department:sessionStorage.getItem('department'),\r\n                job:sessionStorage.getItem('job'),\r\n                doctor_id:sessionStorage.getItem('doctor_id'),\r\n                dialogFormVisible:false,\r\n                form: {\r\n                    doc_id: '',\r\n                    name: '',\r\n                    sex: '',\r\n                    date1: '',\r\n                    date2: '',\r\n                    age: '',\r\n                    nation: '',\r\n                    address: '',\r\n                    born: '',\r\n                    job: '',\r\n                    allergy: '',\r\n                },\r\n                rules: {\r\n                    name: [{ required: true, message: 'Please input Activity name', trigger: 'blur' }],\r\n                    sex: [{ required: true, message: 'Please input Activity name', trigger: 'blur' }],\r\n                    nation: [{ required: true, message: 'Please input Activity name', trigger: 'blur' }],\r\n                    age: [{ required: true, message: 'Please input Activity name', trigger: 'blur' }],\r\n                    address: [{ required: true, message: 'Please input Activity name', trigger: 'blur' }],\r\n                    born: [{ required: true, message: 'Please input Activity name', trigger: 'blur' }],\r\n                    job: [{ required: true, message: 'Please input Activity name', trigger: 'blur' }],\r\n                    allergy: [{ required: true, message: 'Please input Activity name', trigger: 'blur' }],\r\n                },\r\n                formLabelWidth: '120px'\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .el-header, .el-footer {\r\n        background-color: #9d09ec;\r\n        color: #333;\r\n        text-align: center;\r\n        line-height: 50px;\r\n    }\r\n\r\n    .el-aside {\r\n        background-color: #D3DCE6;\r\n        color: #333;\r\n        text-align: center;\r\n        line-height: 20px;\r\n        font-size: 12px;\r\n        text-align: left;\r\n    }\r\n\r\n    .el-main {\r\n        background-color: #E9EEF3;\r\n        color: #333;\r\n        text-align: center;\r\n        line-height: 100px;\r\n    }\r\n</style>"]}]}