{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap 6c7d25d039a59c7b5479","webpack:///./src/index.js","webpack:///./src/popup-manager.js","webpack:///./src/util.js","webpack:///external \"vue\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_4__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","Object","defineProperty","configurable","enumerable","get","n","__esModule","o","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_vue","_vue2","_util","_popupManager","_popupManager2","idSeed","transitions","hookTransition","transition","indexOf","getVueInstance","element","instance","__vue__","textNode","previousSibling","afterEnter","el","doAfterOpen","afterLeave","doAfterClose","getDOM","dom","nodeType","nextElementSibling","nextSibling","props","visible","type","Boolean","twoWay","String","openDelay","closeDelay","zIndex","modal","lockScroll","modalClass","closeOnPressEscape","closeOnClickModal","created","compiled","_popupId","register","beforeDestroy","deregister","closeModal","data","bodyOverflow","rendered","watch","val","_this","_opening","open","nextTick","close","methods","options","_this2","merge","_closeTimer","clearTimeout","_openTimer","Number","setTimeout","doOpen","willOpen","$el","_closing","openModal","nextZIndex","document","body","style","overflow","getComputedStyle","position","onOpen","_this3","willClose","doClose","onClose","getModal","modalDom","PopupManager","createElement","addEventListener","event","preventDefault","stopPropagation","handleModalClick","doOnModalClick","instances","getInstance","id","modalStack","topItem","length","undefined","j","item","classList","add","classArr","trim","split","forEach","remove","parentNode","appendChild","display","push","pop","splice","removeChild","removeEventListener","window","keyCode","target","arguments","source","prop"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VuePopup\", [\"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VuePopup\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"VuePopup\"] = factory(root[\"vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VuePopup\", [\"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VuePopup\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"VuePopup\"] = factory(root[\"vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmory imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmory exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tObject.defineProperty(exports, name, {\n/******/ \t\t\tconfigurable: false,\n/******/ \t\t\tenumerable: true,\n/******/ \t\t\tget: getter\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/lib/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vue = __webpack_require__(4);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _util = __webpack_require__(2);\n\nvar _popupManager = __webpack_require__(1);\n\nvar _popupManager2 = _interopRequireDefault(_popupManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n__webpack_require__(3);\n\nvar idSeed = 1;\nvar transitions = [];\n\nvar hookTransition = function hookTransition(transition) {\n  if (transitions.indexOf(transition) !== -1) return;\n\n  var getVueInstance = function getVueInstance(element) {\n    var instance = element.__vue__;\n    if (!instance) {\n      var textNode = element.previousSibling;\n      if (textNode.__vue__) {\n        instance = textNode.__vue__;\n      }\n    }\n    return instance;\n  };\n\n  _vue2.default.transition(transition, {\n    afterEnter: function afterEnter(el) {\n      var instance = getVueInstance(el);\n\n      if (instance) {\n        instance.doAfterOpen && instance.doAfterOpen();\n      }\n    },\n    afterLeave: function afterLeave(el) {\n      var instance = getVueInstance(el);\n\n      if (instance) {\n        instance.doAfterClose && instance.doAfterClose();\n      }\n    }\n  });\n};\n\nvar getDOM = function getDOM(dom) {\n  if (dom.nodeType === 3) {\n    dom = dom.nextElementSibling || dom.nextSibling;\n    getDOM(dom);\n  }\n  return dom;\n};\n\nexports.default = {\n  props: {\n    visible: {\n      type: Boolean,\n      twoWay: true,\n      default: false\n    },\n    transition: {\n      type: String,\n      default: ''\n    },\n    openDelay: {},\n    closeDelay: {},\n    zIndex: {},\n    modal: {\n      type: Boolean,\n      default: false\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n    modalClass: {},\n    closeOnPressEscape: {\n      type: Boolean,\n      default: false\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  created: function created() {\n    if (this.transition) {\n      hookTransition(this.transition);\n    }\n  },\n  compiled: function compiled() {\n    this._popupId = 'popup-' + idSeed++;\n    _popupManager2.default.register(this._popupId, this);\n  },\n  beforeDestroy: function beforeDestroy() {\n    _popupManager2.default.deregister(this._popupId);\n    _popupManager2.default.closeModal(this._popupId);\n  },\n  data: function data() {\n    return {\n      bodyOverflow: null,\n      rendered: false\n    };\n  },\n\n\n  watch: {\n    visible: function visible(val) {\n      var _this = this;\n\n      if (val) {\n        if (this._opening) return;\n        if (!this.rendered) {\n          this.rendered = true;\n          _vue2.default.nextTick(function () {\n            _this.open();\n          });\n        } else {\n          this.open();\n        }\n      } else {\n        this.close();\n      }\n    }\n  },\n\n  methods: {\n    open: function open(options) {\n      var _this2 = this;\n\n      if (!this.rendered) {\n        this.rendered = true;\n        this.visible = true;\n\n        return;\n      }\n\n      var props = (0, _util.merge)({}, this, options);\n\n      if (this._closeTimer) {\n        clearTimeout(this._closeTimer);\n        this._closeTimer = null;\n      }\n      clearTimeout(this._openTimer);\n\n      var openDelay = Number(props.openDelay);\n      if (openDelay > 0) {\n        this._openTimer = setTimeout(function () {\n          _this2._openTimer = null;\n          _this2.doOpen(props);\n        }, openDelay);\n      } else {\n        this.doOpen(props);\n      }\n    },\n    doOpen: function doOpen(props) {\n      if (this.willOpen && !this.willOpen()) return;\n\n      this._opening = true;\n      this.visible = true;\n\n      var dom = getDOM(this.$el);\n\n      var modal = props.modal;\n\n      var zIndex = props.zIndex;\n      if (zIndex) {\n        _popupManager2.default.zIndex = zIndex;\n      }\n\n      if (modal) {\n        if (this._closing) {\n          _popupManager2.default.closeModal(this._popupId);\n          this._closing = false;\n        }\n        _popupManager2.default.openModal(this._popupId, _popupManager2.default.nextZIndex(), dom, props.modalClass);\n        if (props.lockScroll) {\n          if (!this.bodyOverflow) {\n            this.bodyOverflow = document.body.style.overflow;\n          }\n          document.body.style.overflow = 'hidden';\n        }\n      }\n\n      if (getComputedStyle(dom).position === 'static') {\n        dom.style.position = 'absolute';\n      }\n\n      if (modal) {\n        dom.style.zIndex = _popupManager2.default.nextZIndex();\n      } else if (zIndex) {\n        dom.style.zIndex = zIndex;\n      }\n\n      this.onOpen && this.onOpen();\n\n      if (!this.transition) {\n        this.doAfterOpen();\n      }\n    },\n    doAfterOpen: function doAfterOpen() {\n      this._opening = false;\n    },\n    close: function close() {\n      var _this3 = this;\n\n      if (this.willClose && !this.willClose()) return;\n\n      if (this._openTimer !== null) {\n        clearTimeout(this._openTimer);\n        this._openTimer = null;\n      }\n      clearTimeout(this._closeTimer);\n\n      var closeDelay = Number(this.closeDelay);\n\n      if (closeDelay > 0) {\n        this._closeTimer = setTimeout(function () {\n          _this3._closeTimer = null;\n          _this3.doClose();\n        }, closeDelay);\n      } else {\n        this.doClose();\n      }\n    },\n    doClose: function doClose() {\n      this.visible = false;\n      this._closing = true;\n\n      this.onClose && this.onClose();\n\n      if (this.lockScroll) {\n        if (this.modal && this.bodyOverflow !== 'hidden') {\n          document.body.style.overflow = this.bodyOverflow;\n        }\n      }\n\n      if (!this.transition) {\n        this.doAfterClose();\n      }\n    },\n    doAfterClose: function doAfterClose() {\n      _popupManager2.default.closeModal(this._popupId);\n      this._closing = false;\n    }\n  }\n};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\"use strict\";\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getModal = function getModal() {\n  var modalDom = PopupManager.modalDom;\n  if (!modalDom) {\n    modalDom = document.createElement('div');\n    PopupManager.modalDom = modalDom;\n\n    modalDom.addEventListener('touchmove', function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    });\n  }\n\n  return modalDom;\n};\n\nvar handleModalClick = function handleModalClick() {\n  PopupManager.doOnModalClick && PopupManager.doOnModalClick();\n};\n\nvar instances = {};\n\nvar PopupManager = {\n  zIndex: 1000,\n\n  getInstance: function getInstance(id) {\n    return instances[id];\n  },\n\n  register: function register(id, instance) {\n    if (id && instance) {\n      instances[id] = instance;\n    }\n  },\n\n  deregister: function deregister(id) {\n    if (id) {\n      instances[id] = null;\n      delete instances[id];\n    }\n  },\n\n  nextZIndex: function nextZIndex() {\n    return PopupManager.zIndex++;\n  },\n\n  modalStack: [],\n\n  doOnModalClick: function doOnModalClick() {\n    var topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topItem) return;\n\n    var instance = PopupManager.getInstance(topItem.id);\n    if (instance && instance.closeOnClickModal) {\n      instance.close();\n    }\n  },\n\n  openModal: function openModal(id, zIndex, dom, modalClass) {\n    if (!id || zIndex === undefined) return;\n\n    var modalStack = this.modalStack;\n\n    for (var i = 0, j = modalStack.length; i < j; i++) {\n      var item = modalStack[i];\n      if (item.id === id) {\n        return;\n      }\n    }\n\n    var modalDom = getModal();\n    setTimeout(function () {\n      modalDom.addEventListener('click', handleModalClick);\n    }, 300);\n\n    modalDom.classList.add('v-modal');\n    modalDom.classList.add('v-modal-enter');\n    if (modalClass) {\n      var classArr = modalClass.trim().split(/\\s+/);\n      classArr.forEach(function (item) {\n        return modalDom.classList.add(item);\n      });\n    }\n    setTimeout(function () {\n      modalDom.classList.remove('v-modal-enter');\n    }, 200);\n\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n      dom.parentNode.appendChild(modalDom);\n    } else {\n      document.body.appendChild(modalDom);\n    }\n\n    if (zIndex) {\n      modalDom.style.zIndex = zIndex;\n    }\n    modalDom.style.display = '';\n\n    this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass });\n  },\n\n  closeModal: function closeModal(id) {\n    var modalStack = this.modalStack;\n    var modalDom = getModal();\n\n    if (modalStack.length > 0) {\n      var topItem = modalStack[modalStack.length - 1];\n      if (topItem.id === id) {\n        if (topItem.modalClass) {\n          var classArr = topItem.modalClass.trim().split(/\\s+/);\n          classArr.forEach(function (item) {\n            return modalDom.classList.remove(item);\n          });\n        }\n\n        modalStack.pop();\n        if (modalStack.length > 0) {\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\n        }\n      } else {\n        for (var i = modalStack.length - 1; i >= 0; i--) {\n          if (modalStack[i].id === id) {\n            modalStack.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n\n    if (modalStack.length === 0) {\n      modalDom.classList.add('v-modal-leave');\n      setTimeout(function () {\n        if (modalStack.length === 0) {\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom);\n          modalDom.style.display = 'none';\n        }\n        modalDom.removeEventListener('click', handleModalClick);\n        modalDom.classList.remove('v-modal-leave');\n      }, 200);\n    }\n  }\n};\nwindow.addEventListener('keydown', function (event) {\n  if (event.keyCode === 27) {\n    if (PopupManager.modalStack.length > 0) {\n      var topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n      if (!topItem) return;\n      var instance = PopupManager.getInstance(topItem.id);\n      if (instance.closeOnPressEscape) {\n        instance.close();\n      }\n    }\n  }\n});\n\nexports.default = PopupManager;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\"use strict\";\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.merge = merge;\nfunction merge(target) {\n  for (var i = 1, j = arguments.length; i < j; i++) {\n    var source = arguments[i];\n    for (var prop in source) {\n      if (source.hasOwnProperty(prop)) {\n        var value = source[prop];\n        if (value !== undefined) {\n          target[prop] = value;\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6c7d25d039a59c7b5479","import Vue from 'vue';\nimport { merge } from './util';\nimport { default as PopupManager } from './popup-manager';\n\nrequire('./popup.css');\n\nlet idSeed = 1;\nconst transitions = [];\n\nconst hookTransition = (transition) => {\n  if (transitions.indexOf(transition) !== -1) return;\n\n  const getVueInstance = (element) => {\n    let instance = element.__vue__;\n    if (!instance) {\n      const textNode = element.previousSibling;\n      if (textNode.__vue__) {\n        instance = textNode.__vue__;\n      }\n    }\n    return instance;\n  };\n\n  Vue.transition(transition, {\n    afterEnter(el) {\n      const instance = getVueInstance(el);\n\n      if (instance) {\n        instance.doAfterOpen && instance.doAfterOpen();\n      }\n    },\n    afterLeave(el) {\n      const instance = getVueInstance(el);\n\n      if (instance) {\n        instance.doAfterClose && instance.doAfterClose();\n      }\n    }\n  });\n};\n\nconst getDOM = function(dom) {\n  if (dom.nodeType === 3) {\n    dom = dom.nextElementSibling || dom.nextSibling;\n    getDOM(dom);\n  }\n  return dom;\n};\n\nexport default {\n  props: {\n    visible: {\n      type: Boolean,\n      twoWay: true,\n      default: false\n    },\n    transition: {\n      type: String,\n      default: ''\n    },\n    openDelay: {},\n    closeDelay: {},\n    zIndex: {},\n    modal: {\n      type: Boolean,\n      default: false\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n    modalClass: {\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: false\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  created() {\n    if (this.transition) {\n      hookTransition(this.transition);\n    }\n  },\n\n  compiled() {\n    this._popupId = 'popup-' + idSeed++;\n    PopupManager.register(this._popupId, this);\n  },\n\n  beforeDestroy() {\n    PopupManager.deregister(this._popupId);\n    PopupManager.closeModal(this._popupId);\n  },\n\n  data() {\n    return {\n      bodyOverflow: null,\n      rendered: false\n    };\n  },\n\n  watch: {\n    visible(val) {\n      if (val) {\n        if (this._opening) return;\n        if (!this.rendered) {\n          this.rendered = true;\n          Vue.nextTick(() => {\n            this.open();\n          });\n        } else {\n          this.open();\n        }\n      } else {\n        this.close();\n      }\n    }\n  },\n\n  methods: {\n    open(options) {\n      if (!this.rendered) {\n        this.rendered = true;\n        this.visible = true;\n\n        return;\n      }\n\n      const props = merge({}, this, options);\n\n      if (this._closeTimer) {\n        clearTimeout(this._closeTimer);\n        this._closeTimer = null;\n      }\n      clearTimeout(this._openTimer);\n\n      const openDelay = Number(props.openDelay);\n      if (openDelay > 0) {\n        this._openTimer = setTimeout(() => {\n          this._openTimer = null;\n          this.doOpen(props);\n        }, openDelay);\n      } else {\n        this.doOpen(props);\n      }\n    },\n\n    doOpen(props) {\n      if (this.willOpen && !this.willOpen()) return;\n\n      this._opening = true;\n      this.visible = true;\n\n      const dom = getDOM(this.$el);\n\n      const modal = props.modal;\n\n      const zIndex = props.zIndex;\n      if (zIndex) {\n        PopupManager.zIndex = zIndex;\n      }\n\n      if (modal) {\n        if (this._closing) {\n          PopupManager.closeModal(this._popupId);\n          this._closing = false;\n        }\n        PopupManager.openModal(this._popupId, PopupManager.nextZIndex(), dom, props.modalClass);\n        if (props.lockScroll) {\n          if (!this.bodyOverflow) {\n            this.bodyOverflow = document.body.style.overflow;\n          }\n          document.body.style.overflow = 'hidden';\n        }\n      }\n\n      if (getComputedStyle(dom).position === 'static') {\n        dom.style.position = 'absolute';\n      }\n\n      if (modal) {\n        dom.style.zIndex = PopupManager.nextZIndex();\n      } else if (zIndex) {\n        dom.style.zIndex = zIndex;\n      }\n\n      this.onOpen && this.onOpen();\n\n      if (!this.transition) {\n        this.doAfterOpen();\n      }\n    },\n\n    doAfterOpen() {\n      this._opening = false;\n    },\n\n    close() {\n      if (this.willClose && !this.willClose()) return;\n\n      if (this._openTimer !== null) {\n        clearTimeout(this._openTimer);\n        this._openTimer = null;\n      }\n      clearTimeout(this._closeTimer);\n\n      const closeDelay = Number(this.closeDelay);\n\n      if (closeDelay > 0) {\n        this._closeTimer = setTimeout(() => {\n          this._closeTimer = null;\n          this.doClose();\n        }, closeDelay);\n      } else {\n        this.doClose();\n      }\n    },\n\n    doClose() {\n      this.visible = false;\n      this._closing = true;\n\n      this.onClose && this.onClose();\n\n      if (this.lockScroll) {\n        if (this.modal && this.bodyOverflow !== 'hidden') {\n          document.body.style.overflow = this.bodyOverflow;\n        }\n      }\n\n      if (!this.transition) {\n        this.doAfterClose();\n      }\n    },\n\n    doAfterClose() {\n      PopupManager.closeModal(this._popupId);\n      this._closing = false;\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const getModal = function() {\n  let modalDom = PopupManager.modalDom;\n  if (!modalDom) {\n    modalDom = document.createElement('div');\n    PopupManager.modalDom = modalDom;\n\n    modalDom.addEventListener('touchmove', function(event) {\n      event.preventDefault();\n      event.stopPropagation();\n    });\n  }\n\n  return modalDom;\n};\n\nconst handleModalClick = function() {\n  PopupManager.doOnModalClick && PopupManager.doOnModalClick();\n};\n\nconst instances = {};\n\nconst PopupManager = {\n  zIndex: 1000,\n\n  getInstance: function(id) {\n    return instances[id];\n  },\n\n  register: function(id, instance) {\n    if (id && instance) {\n      instances[id] = instance;\n    }\n  },\n\n  deregister: function(id) {\n    if (id) {\n      instances[id] = null;\n      delete instances[id];\n    }\n  },\n\n  nextZIndex: function() {\n    return PopupManager.zIndex++;\n  },\n\n  modalStack: [],\n\n  doOnModalClick: function() {\n    const topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topItem) return;\n\n    const instance = PopupManager.getInstance(topItem.id);\n    if (instance && instance.closeOnClickModal) {\n      instance.close();\n    }\n  },\n\n  openModal: function(id, zIndex, dom, modalClass) {\n    if (!id || zIndex === undefined) return;\n\n    const modalStack = this.modalStack;\n\n    for (let i = 0, j = modalStack.length; i < j; i++) {\n      const item = modalStack[i];\n      if (item.id === id) {\n        return;\n      }\n    }\n\n    const modalDom = getModal();\n    setTimeout(() => {\n      modalDom.addEventListener('click', handleModalClick);\n    }, 300);\n\n    modalDom.classList.add('v-modal');\n    modalDom.classList.add('v-modal-enter');\n    if (modalClass) {\n      let classArr = modalClass.trim().split(/\\s+/);\n      classArr.forEach(item => modalDom.classList.add(item));\n    }\n    setTimeout(() => {\n      modalDom.classList.remove('v-modal-enter');\n    }, 200);\n\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n      dom.parentNode.appendChild(modalDom);\n    } else {\n      document.body.appendChild(modalDom);\n    }\n\n    if (zIndex) {\n      modalDom.style.zIndex = zIndex;\n    }\n    modalDom.style.display = '';\n\n    this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass });\n  },\n\n  closeModal: function(id) {\n    const modalStack = this.modalStack;\n    const modalDom = getModal();\n\n    if (modalStack.length > 0) {\n      const topItem = modalStack[modalStack.length - 1];\n      if (topItem.id === id) {\n        if (topItem.modalClass) {\n          let classArr = topItem.modalClass.trim().split(/\\s+/);\n          classArr.forEach(item => modalDom.classList.remove(item));\n        }\n\n        modalStack.pop();\n        if (modalStack.length > 0) {\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\n        }\n      } else {\n        for (let i = modalStack.length - 1; i >= 0; i--) {\n          if (modalStack[i].id === id) {\n            modalStack.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n\n    if (modalStack.length === 0) {\n      modalDom.classList.add('v-modal-leave');\n      setTimeout(() => {\n        if (modalStack.length === 0) {\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom);\n          modalDom.style.display = 'none';\n        }\n        modalDom.removeEventListener('click', handleModalClick);\n        modalDom.classList.remove('v-modal-leave');\n      }, 200);\n    }\n  }\n};\nwindow.addEventListener('keydown', function(event) {\n  if (event.keyCode === 27) { // ESC\n    if (PopupManager.modalStack.length > 0) {\n      const topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n      if (!topItem) return;\n      const instance = PopupManager.getInstance(topItem.id);\n      if (instance.closeOnPressEscape) {\n        instance.close();\n      }\n    }\n  }\n});\n\nexport default PopupManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/popup-manager.js","export function merge(target) {\n  for (var i = 1, j = arguments.length; i < j; i++) {\n    var source = arguments[i];\n    for (var prop in source) {\n      if (source.hasOwnProperty(prop)) {\n        var value = source[prop];\n        if (value !== undefined) {\n          target[prop] = value;\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue\"\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}